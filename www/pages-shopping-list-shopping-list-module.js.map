{"version":3,"sources":["./src/app/pages/shopping-list/shopping-list.component.html","./src/app/pages/shopping-list/shopping-list.component.scss","./src/app/pages/shopping-list/shopping-list.component.ts","./src/app/pages/shopping-list/shopping-list.module.ts","./src/app/pages/shopping-list/shopping-list.router.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,grB;;;;;;;;;;;;ACAf;AAAe,mFAAoB,+BAA+B,0BAA0B,GAAG,6CAA6C,mqB;;;;;;;;;;;;;;;;;;;ACA1F;AACa;AACqB;AAOpF,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAG9B,YACY,WAAwB,EACxB,kBAAsC;QADtC,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAQlD,SAAS;QACT,4BAA4B;QACrB,kBAAa,GAAG,CAAO,SAAS,EAAE,EAAE,CAAC;YACxC,yCAAyC;YACzC,uCAAuC;YACvC,IAAI,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAC1G,uBAAuB;YACvB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,gHAAgH;QACpH,CAAC;QAEM,uBAAkB,GAAG,CAAO,WAAW,EAAE,EAAE,CAAC;YAC/C,iCAAiC;YACjC,MAAM,IAAI,CAAC,WAAW,CAAC,2BAA2B,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,uCAAuC;YAEvI,uBAAuB;YACvB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,2BAA2B;QAC/B,CAAC;QAEM,qBAAgB,GAAG,GAAS,EAAE,CAAC;YAClC,yCAAyC;YACzC,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QAC9D,CAAC;QAEM,oBAAe,GAAG,GAAS,EAAE,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,sBAAsB,EAAE,CAAC;QACjE,CAAC;QAlCG,uCAAuC;QACvC,IAAI,CAAC,kBAAkB;aAClB,iBAAiB,CAAC,eAAe,CAAC;aAClC,SAAS,CAAC,wBAAwB,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3F,CAAC;IAgCD,QAAQ;QACJ,kCAAkC;QAClC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;CAEJ;;YA5C4B,uEAAW;YACJ,4FAAkB;;AALzC,qBAAqB;IALjC,+DAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;QAC7B,iPAA6C;;KAEhD,CAAC;GACW,qBAAqB,CAgDjC;AAhDiC;;;;;;;;;;;;;;;;;;;;;;;;ACTlC,aAAa;AAC4B;AACgB;AAE+B;AAEnB;AAEH;AACnB;AACkB;AAGjE,gLAAgL;AAEhL,gBAAgB;AAShB,IAAa,kBAAkB;AAD/B,YAAY;AACZ,MAAa,kBAAkB;CAAI;AAAtB,kBAAkB;IAR9B,8DAAQ,CAAC;QACN,YAAY,EAAE,CAAE,8EAAqB,CAAE;QACvC,OAAO,EAAE,CAAC,4DAAY,EAAE,qEAAe,EAAE,gGAAmB,EAAE,6EAAa,CAAC;QAC5E,SAAS,EAAE,CAAC,8EAAW,CAAC;KAC3B,CAAC;IAGF,YAAY;GACC,kBAAkB,CAAI;AAAJ;AAAI,CAAC;;;;;;;;;;;;;;;;;;;ACtBmB;AAEW;AAElE,uDAAuD;AAEvD,gBAAgB;AAChB,MAAM,KAAK,GAAW;IAClB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8EAAqB;KACnC;CACJ;AAGD,YAAY;AACL,MAAM,eAAe,GAAwB,4DAAY,CAAC,QAAQ,CAAC,KAAK,CAAC","file":"pages-shopping-list-shopping-list-module.js","sourcesContent":["export default \"<section class=\\\"section has-text-centered\\\">\\n    <h2 class=\\\"title is-4\\\">Liste de courses</h2>\\n</section>\\n\\n<section class=\\\"section\\\">\\n    <app-add-item (addItem)=\\\"addItemToList($event)\\\"></app-add-item>\\n</section>\\n\\n<section class=\\\"section\\\">\\n    <ul *ngFor=\\\"let item of items\\\" class=\\\"block-list is-small\\\">\\n        <app-single-item [item]=\\\"item\\\" (addItemToInventory)=\\\"addItemToInventory($event)\\\"></app-single-item>\\n    </ul>\\n</section>\\n\\n<section class=\\\"section has-text-centered\\\" *ngIf=\\\"items.length == 0\\\">\\n    <p>Quelqu'un a encore oublié de remplir la liste des courses...</p>\\n</section>\\n\"","export default \"@charset \\\"UTF-8\\\";\\nh2.title:not(:last-child)   {\\n  margin-bottom: 0.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2hvcHBpbmctbGlzdC9zaG9wcGluZy1saXN0LmNvbXBvbmVudC5zY3NzIiwiL1VzZXJzL0VsaXNhYmV0aC9EZXNrdG9wL21lYWwtcGxhbi1hcHAvYW5ndWxhckNsaWVudC9zcmMvYXBwL3BhZ2VzL3Nob3BwaW5nLWxpc3Qvc2hvcHBpbmctbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNDaEI7RUFDSSxxQkFBQTtBRENKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2hvcHBpbmctbGlzdC9zaG9wcGluZy1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuaDIudGl0bGU6bm90KDpsYXN0LWNoaWxkKSDCoCB7XG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbn0iLCIvLyB0aXRsZXNcbmgyLnRpdGxlOm5vdCg6bGFzdC1jaGlsZCnCoHtcbiAgICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcbn1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { CrudService } from \"../../services/crud/crud.service\";\nimport { ObservablesService } from \"../../services/observables/observables.service\";\n\n@Component({\n    selector: 'app-shopping-list',\n    templateUrl: './shopping-list.component.html',\n    styleUrls: ['./shopping-list.component.scss']\n})\nexport class ShoppingListComponent implements OnInit {\n    items: object;\n\n    constructor(\n        private CrudService: CrudService,\n        private ObservablesService: ObservablesService\n    ) {\n        // get shopping list data from observer\n        this.ObservablesService\n            .getObservableData('shopping-list')\n            .subscribe(observerShoppingListData => { this.items = observerShoppingListData; });\n    }\n\n    //METHODS\n    // add item to shopping list\n    public addItemToList = async (itemAdded) => {\n        // if already in shopping list, don't add\n        // toggle toBuy status if already in DB\n        let response = await this.CrudService.toggleItemInShoppingList('item', itemAdded.name, { \"toBuy\": true });\n        // update shopping list\n        this.getShoppingList();\n\n        // If not, add to DB / local storage / observables => automatically fill model fields with default or ask user ?\n    }\n\n    public addItemToInventory = async (addedItemId) => {\n        // toggle toBuy status & remove 1\n        await this.CrudService.adjustItemInventoryQuantity('item', addedItemId, { \"toBuy\": false }, 1); // true = increment & false = decrement\n\n        // update shopping list\n        this.getShoppingList();\n        // this.getInventoryList();\n    }\n\n    public getInventoryList = async () => {\n        // get items with property toBuy === true\n        this.items = await this.CrudService.getItemsInInventory();\n    }\n\n    public getShoppingList = async () => {\n        this.items = await this.CrudService.getItemsOnShoppingList();\n    }\n\n    ngOnInit() {\n        // get list from API on first load\n        this.getShoppingList();\n    }\n\n}\n","/* IMPORTS */\nimport { NgModule } from \"@angular/core\";\nimport { ComponentRouter } from \"./shopping-list.router\";\n\nimport { UserInterfaceModule } from '../../shared/user-interface/user-interface.module';\n\nimport { AppFormModule } from \"../../shared/form-module/form-module\";\n\nimport { ShoppingListComponent } from './shopping-list.component';\nimport { CommonModule } from '@angular/common';\nimport { CrudService } from 'src/app/services/crud/crud.service';\n\n\n// ce fichier permet d’ajouter des composants spécifiques à la page et de rendre disponible le fichier de routing de la page dans le fichier de routing général de l’application\n\n/* DEFINITION */\n@NgModule({\n    declarations: [ ShoppingListComponent ],\n    imports: [CommonModule, ComponentRouter, UserInterfaceModule, AppFormModule],\n    providers: [CrudService],\n})\n\n\n/* EXPORT */\nexport class ShoppingListModule { };\n","/* IMPORTS */\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { ShoppingListComponent } from './shopping-list.component';\n\n// ce fichier permet de définir le composant à afficher\n\n/* DEFINITION */\nconst route: Routes = [\n    {\n        path: '',\n        component: ShoppingListComponent\n    }\n]\n\n\n/* EXPORT */\nexport const ComponentRouter: ModuleWithProviders = RouterModule.forChild(route)\n"],"sourceRoot":"webpack:///"}