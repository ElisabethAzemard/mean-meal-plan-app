{"version":3,"sources":["./src/app/pages/shopping-list/shopping-list.component.html","./src/app/pages/shopping-list/shopping-list.component.scss","./src/app/pages/shopping-list/shopping-list.component.ts","./src/app/pages/shopping-list/shopping-list.module.ts","./src/app/pages/shopping-list/shopping-list.router.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,2Z;;;;;;;;;;;;ACAf;AAAe,6GAA8C,uK;;;;;;;;;;;;;;;;;;;ACAX;AACa;AACqB;AAOpF,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAG9B,YACY,WAAwB,EACxB,kBAAsC;QADtC,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAQlD,SAAS;QACT,4BAA4B;QACrB,kBAAa,GAAG,CAAO,SAAS,EAAE,EAAE,CAAC;YACxC,yCAAyC;YACzC,uCAAuC;YACvC,IAAI,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAC1G,uBAAuB;YACvB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,gHAAgH;QACpH,CAAC;QAEM,uBAAkB,GAAG,CAAO,WAAW,EAAE,EAAE,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACxC,iCAAiC;YACjC,MAAM,IAAI,CAAC,WAAW,CAAC,2BAA2B,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,uCAAuC;YAE1I,uBAAuB;YACvB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC/B,CAAC;QAEM,wBAAmB,GAAG,GAAS,EAAE,CAAC;YACrC,yCAAyC;YACzC,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QAC9D,CAAC;QAEM,oBAAe,GAAG,GAAS,EAAE,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,sBAAsB,EAAE,CAAC;YAC7D,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3C,CAAC;QAnCG,uCAAuC;QACvC,IAAI,CAAC,kBAAkB;aAClB,iBAAiB,CAAC,eAAe,CAAC;aAClC,SAAS,CAAC,wBAAwB,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3F,CAAC;IAiCD,QAAQ;QACJ,kCAAkC;QAClC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;CAEJ;;YA7C4B,uEAAW;YACJ,4FAAkB;;AALzC,qBAAqB;IALjC,+DAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;QAC7B,iPAA6C;;KAEhD,CAAC;GACW,qBAAqB,CAiDjC;AAjDiC;;;;;;;;;;;;;;;;;;;;;;;;ACTlC,aAAa;AAC4B;AACgB;AAE+B;AAEnB;AAEH;AACnB;AACkB;AAGjE,gLAAgL;AAEhL,gBAAgB;AAShB,IAAa,kBAAkB;AAD/B,YAAY;AACZ,MAAa,kBAAkB;CAAI;AAAtB,kBAAkB;IAR9B,8DAAQ,CAAC;QACN,YAAY,EAAE,CAAE,8EAAqB,CAAE;QACvC,OAAO,EAAE,CAAC,4DAAY,EAAE,qEAAe,EAAE,gGAAmB,EAAE,6EAAa,CAAC;QAC5E,SAAS,EAAE,CAAC,8EAAW,CAAC;KAC3B,CAAC;IAGF,YAAY;GACC,kBAAkB,CAAI;AAAJ;AAAI,CAAC;;;;;;;;;;;;;;;;;;;ACtBmB;AAEW;AAElE,uDAAuD;AAEvD,gBAAgB;AAChB,MAAM,KAAK,GAAW;IAClB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8EAAqB;KACnC;CACJ;AAGD,YAAY;AACL,MAAM,eAAe,GAAwB,4DAAY,CAAC,QAAQ,CAAC,KAAK,CAAC","file":"pages-shopping-list-shopping-list-module.js","sourcesContent":["export default \"<section class=\\\"section\\\">\\n    <app-add-item (addItem)=\\\"addItemToList($event)\\\"></app-add-item>\\n</section>\\n<section class=\\\"section\\\">\\n    <ul *ngFor=\\\"let item of items\\\" class=\\\"block-list is-small\\\">\\n        <app-single-item [item]=\\\"item\\\" (addItemToInventory)=\\\"addItemToInventory($event)\\\"></app-single-item>\\n    </ul>\\n</section>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Nob3BwaW5nLWxpc3Qvc2hvcHBpbmctbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { CrudService } from \"../../services/crud/crud.service\";\nimport { ObservablesService } from \"../../services/observables/observables.service\";\n\n@Component({\n    selector: 'app-shopping-list',\n    templateUrl: './shopping-list.component.html',\n    styleUrls: ['./shopping-list.component.scss']\n})\nexport class ShoppingListComponent implements OnInit {\n    items: object;\n\n    constructor(\n        private CrudService: CrudService,\n        private ObservablesService: ObservablesService\n    ) {\n        // get shopping list data from observer\n        this.ObservablesService\n            .getObservableData('shopping-list')\n            .subscribe(observerShoppingListData => { this.items = observerShoppingListData; });\n    }\n\n    //METHODS\n    // add item to shopping list\n    public addItemToList = async (itemAdded) => {\n        // if already in shopping list, don't add\n        // toggle toBuy status if already in DB\n        let response = await this.CrudService.toggleItemInShoppingList('item', itemAdded.name, { \"toBuy\": true });\n        // update shopping list\n        this.getShoppingList();\n\n        // If not, add to DB / local storage / observables => automatically fill model fields with default or ask user ?\n    }\n\n    public addItemToInventory = async (addedItemId) => {\n        console.log('adding item to inventory');\n        // toggle toBuy status & remove 1\n        await this.CrudService.adjustItemInventoryQuantity('item', addedItemId, { \"toBuy\": false }, true); // true = increment & false = decrement\n\n        // update shopping list\n        this.updateInventoryList();\n    }\n\n    public updateInventoryList = async () => {\n        // get items with property toBuy === true\n        this.items = await this.CrudService.getItemsInInventory();\n    }\n\n    public getShoppingList = async () => {\n        this.items = await this.CrudService.getItemsOnShoppingList();\n        console.log('heres items', this.items);\n    }\n\n    ngOnInit() {\n        // get list from API on first load\n        this.getShoppingList();\n    }\n\n}\n","/* IMPORTS */\nimport { NgModule } from \"@angular/core\";\nimport { ComponentRouter } from \"./shopping-list.router\";\n\nimport { UserInterfaceModule } from '../../shared/user-interface/user-interface.module';\n\nimport { AppFormModule } from \"../../shared/form-module/form-module\";\n\nimport { ShoppingListComponent } from './shopping-list.component';\nimport { CommonModule } from '@angular/common';\nimport { CrudService } from 'src/app/services/crud/crud.service';\n\n\n// ce fichier permet d’ajouter des composants spécifiques à la page et de rendre disponible le fichier de routing de la page dans le fichier de routing général de l’application\n\n/* DEFINITION */\n@NgModule({\n    declarations: [ ShoppingListComponent ],\n    imports: [CommonModule, ComponentRouter, UserInterfaceModule, AppFormModule],\n    providers: [CrudService],\n})\n\n\n/* EXPORT */\nexport class ShoppingListModule { };\n","/* IMPORTS */\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { ShoppingListComponent } from './shopping-list.component';\n\n// ce fichier permet de définir le composant à afficher\n\n/* DEFINITION */\nconst route: Routes = [\n    {\n        path: '',\n        component: ShoppingListComponent\n    }\n]\n\n\n/* EXPORT */\nexport const ComponentRouter: ModuleWithProviders = RouterModule.forChild(route)\n"],"sourceRoot":"webpack:///"}