{"version":3,"sources":["./src/app/pages/home-page/home-page.component.html","./src/app/pages/home-page/home-page.component.ts","./src/app/pages/home-page/home-page.module.ts","./src/app/pages/home-page/home-page.router.ts","./src/app/services/auth/auth.service.ts"],"names":[],"mappings":"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","file":"pages-home-page-home-page-module.js","sourcesContent":["export default \"<app-registration-form\\n    [formObject]=\\\"registerObject\\\"\\n    (sendFormData)=\\\"registerNewUser($event)\\\"></app-registration-form>\\n<p>home-page works!</p>\\n\"","/* IMPORTS */\nimport { Component, OnInit } from '@angular/core';\nimport { UserModel } from \"../../models/user.model\";\nimport { AuthService } from \"../../services/auth/auth.service\";\n\n\n/* DEFINITION */\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n})\n\n\n/* EXPORT */\nexport class HomePageComponent implements OnInit {\n\n  // Variables\n  public registrationObject: UserModel = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    repeatePassword: '',\n    cgu: false\n  }\n\n  // Inject AuthService in the class\n  constructor(private authService: AuthService ) { }\n\n  // Create a function to register user\n  public registerNewUser = (user: UserModel) => {\n    console.log('Validated form HOME', user);\n\n    // Use the service to register user\n    this.authService.registerUser(user)\n      .then(apiSuccess => console.log(apiSuccess))\n      .catch(apiError => console.error(apiError))\n\n  };\n\n  ngOnInit() { }\n}\n","/* IMPORTS */\nimport { NgModule } from \"@angular/core\";\nimport { ComponentRouter } from \"./home-page.router\";\n\nimport { UserInterfaceModule } from '../../shared/user-interface/user-interface.module';\n\nimport { AppFormModule } from \"../../shared/form-module/form-module\";\n\nimport { HomePageComponent } from \"./home-page.component\";\n\n// ce fichier permet d’ajouter des composants spécifiques à la page et de rendre disponible le fichier de routing de la page dans le fichier de routing général de l’application\n\n/* DEFINITION */\n@NgModule({\n    declarations: [ HomePageComponent ],\n    imports: [ ComponentRouter, UserInterfaceModule, AppFormModule ]\n})\n\n\n/* EXPORT */\nexport class HomePageModule { };\n","/* IMPORTS */\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { HomePageComponent } from \"./home-page.component\";\n\n// ce fichier permet de définir le composant à afficher\n\n/* DEFINITION */\nconst route: Routes = [\n    {\n        path: '',\n        component: HomePageComponent\n    }\n]\n\n\n/* EXPORT */\nexport const ComponentRouter: ModuleWithProviders = RouterModule.forChild(route)\n","/* IMPORTS */\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\n\nimport { UserModel } from \"../../models/user.model\";\n\n\n/* DEFINITION */\n@Injectable( { providedIn: 'root' } )\n\n\n/* EXPORT */\nexport class AuthService {\n\n  // Define API address\n  private apiUrl = '/api/auth'\n\n  // Inject HttpCLient into the class\n  constructor( private http: HttpClient ) { }\n\n  // Function to register user\n  public registerUser(user: UserModel): Promise<any> {\n\n    // Delete repeatePassword property from the user object (for checkFields)\n    delete user.repeatePassword;\n\n    // Header configuration\n    let myHeader = new HttpHeaders().set('Content-Type', 'application/json')\n\n    // Make an HTTP GET call\n    return this.http.post(this.apiUrl + '/register', user, { headers: myHeader })\n      .toPromise().then(this.getData).catch(this.handelError)\n  }\n\n  // Fonction to parse SUCCESS response\n  private getData(response: any) {\n    // return res || {};\n    return Promise.resolve(response || {});\n  }\n\n  // Fonction to parse ERROR response\n  private handelError(response: any) {\n    return Promise.reject(response.error);\n  }\n}\n"],"sourceRoot":"webpack:///"}