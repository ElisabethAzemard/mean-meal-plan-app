{"version":3,"sources":["./src/app/pages/home-page/home-page.component.html","./src/app/pages/home-page/home-page.component.ts","./src/app/pages/home-page/home-page.module.ts","./src/app/pages/home-page/home-page.router.ts"],"names":[],"mappings":"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","file":"pages-home-page-home-page-module.js","sourcesContent":["export default \"<div class=\\\"wrap\\\">\\n<section class=\\\"section\\\" *ngIf=\\\"registered\\\">\\n    <app-login-form (formSubmit)=\\\"loginUser($event)\\\"\\n    (notRegistered)=\\\"displayRegistrationForm()\\\"></app-login-form>\\n</section>\\n\\n<section *ngIf=\\\"!registered\\\"\\n    class=\\\"section\\\">\\n    <app-registration-form (formSubmit)=\\\"registerUser($event)\\\"\\n    (alreadyRegistered)=\\\"displayLoginForm()\\\"></app-registration-form>\\n</section>\\n</div>\\n\"","/* IMPORTS */\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { UserModel } from \"../../models/user.model\";\nimport { AuthService } from \"../../services/auth/auth.service\";\n\n\n\n/* DEFINITION */\n@Component({\n    selector: 'app-home-page',\n    templateUrl: './home-page.component.html',\n})\n\n\n/* EXPORT */\nexport class HomePageComponent implements OnInit {\n\n    // Variables\n    registered: boolean = true;\n\n    public registrationObject: UserModel = {\n        firstname: '',\n        lastname: '',\n        email: '',\n        password: '',\n        repeatpassword: '',\n    }\n\n    // Inject AuthService in the class\n    constructor(\n        private AuthService: AuthService,\n        private Router: Router,\n    ) { }\n\n\n    // METHODS\n    // ----- USER -----\n    // log in\n    private loginUser = async (credentials: string) => {\n        // log in user in Api\n        const userInfo = await this.AuthService.logInUser(credentials);\n\n        // if login is successful, redirect to /news\n        if (userInfo) {\n            this.Router.navigateByUrl('/shopping-list');\n        }\n    };\n\n    // display registration form when click on \"not registered yet?\"\n    public displayRegistrationForm = () => {\n        this.registered = false;\n    }\n\n    // display login form when click on \"already registered?\"\n    public displayLoginForm = () => {\n        this.registered = true;\n    }\n\n    // register user\n    public registerUser = async (user: UserModel) => {\n        // send registration form to auth API\n        const userInfo = await this.AuthService.registerUser(user);\n        //if user registration is successful, redirect to /news\n        if (userInfo) {\n            this.Router.navigateByUrl('/shopping-list');\n        }\n    };\n\n    // Only on connected pages (no home)\n    private getUserInfo = () => {\n        // Use CrudService to get user infos\n        this.AuthService.getUserInfo()\n            .then(data => {\n                console.log('SUCCES request', data);\n            })\n            .catch(error => {\n                console.log('ERROR request', error);\n            });\n    };\n\n    ngOnInit() {\n        // this.getUserInfo();\n    }\n}\n","/* IMPORTS */\nimport { NgModule } from \"@angular/core\";\nimport { CommonModule } from '@angular/common';\n\nimport { ComponentRouter } from \"./home-page.router\";\n\nimport { UserInterfaceModule } from '../../shared/user-interface/user-interface.module';\n\nimport { AppFormModule } from \"../../shared/form-module/form-module\";\n\nimport { HomePageComponent } from \"./home-page.component\";\n\n// ce fichier permet d’ajouter des composants spécifiques à la page et de rendre disponible le fichier de routing de la page dans le fichier de routing général de l’application\n\n/* DEFINITION */\n@NgModule({\n    declarations: [ HomePageComponent ],\n    imports: [\n        CommonModule,\n        ComponentRouter,\n        UserInterfaceModule,\n        AppFormModule\n    ]\n})\n\n\n/* EXPORT */\nexport class HomePageModule { };\n","/* IMPORTS */\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { HomePageComponent } from \"./home-page.component\";\n\n// ce fichier permet de définir le composant à afficher\n\n/* DEFINITION */\nconst route: Routes = [\n    {\n        path: '',\n        component: HomePageComponent\n    }\n]\n\n\n/* EXPORT */\nexport const ComponentRouter: ModuleWithProviders = RouterModule.forChild(route)\n"],"sourceRoot":"webpack:///"}